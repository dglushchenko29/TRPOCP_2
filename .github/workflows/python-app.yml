name: Python CI

on:
  push:
    branches: [ main, development, release-v1.0 ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Install dependencies
      run: pip install pytest
    - name: Run tests with pytest
      run: pytest test_calculator.py -v

  docs:
    runs-on: ubuntu-latest
    needs: test
    steps:
    - uses: actions/checkout@v4
    - name: Generate documentation
      run: |
        echo "# Automated Documentation" > DOCUMENTATION.md
        echo "## Generated on: $(date)" >> DOCUMENTATION.md
        echo "## Project Version: 1.0.0" >> DOCUMENTATION.md
        echo "## Test Results: All tests passed successfully" >> DOCUMENTATION.md
        echo "## Functions Available:" >> DOCUMENTATION.md
        echo "- add(a, b) - Addition function" >> DOCUMENTATION.md
        echo "- multiply(a, b) - Multiplication function" >> DOCUMENTATION.md

